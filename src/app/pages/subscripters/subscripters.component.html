<app-inner-page-banner [pageTitle]="'Ù…Ø´Ø§Ø±ÙƒÙŠÙ† Ø§Ù„Ù…Ø­ØªÙˆÙ‰'"></app-inner-page-banner>


<div class="subscribers-container">
  <div class="header-section">
    <h2 class="page-title">
      <i class="icon-users"></i>
      Ù…Ø´ØªØ±ÙƒÙˆ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
    </h2>
    <div class="subscribers-count" *ngIf="subscribers">
      <span class="count-badge">{{ subscribers.length }}</span>
      <span class="count-label">Ù…Ø´ØªØ±Ùƒ</span>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="subscribers === null" class="loading-container">
    <div class="loading-spinner">
      <div class="spinner"></div>
      <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†...</p>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="subscribers && subscribers.length === 0" class="empty-state">
    <div class="empty-icon">ðŸ“­</div>
    <h3>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø´ØªØ±ÙƒÙˆÙ†</h3>
    <p>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ Ù…Ø´ØªØ±ÙƒÙŠÙ† Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.</p>
  </div>

  <!-- Subscribers List -->
  <div *ngIf="subscribers && subscribers.length > 0" class="subscribers-list">
    <div class="table-container">
      <table class="subscribers-table">
        <thead>
          <tr>
            <th>Ø§Ù„Ø§Ø³Ù…</th>
            <th>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„</th>
            <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let subscriber of subscribers; trackBy: trackByUserId" class="subscriber-row">
            <td class="subscriber-name">
              <div class="name-container">
                <div class="avatar">
                  {{ getInitials(subscriber.arName) }}
                </div>
                <span class="name">{{ subscriber.arName }}</span>
              </div>
            </td>
            <td class="registration-date">
              <div class="date-container">
                <span class="date">{{ formatDate(subscriber.registrationDate) }}</span>
                <span class="time-ago">{{ getTimeAgo(subscriber.registrationDate) }}</span>
              </div>
            </td>
            <td class="actions">
              <a [routerLink]="['/content-details', contentId, subscriber.userId,programId]" class="action-btn view-btn" title="Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„">
                <i class="bx bx-show"></i>
              </a>
              
              <!-- <a [routerLink]="['/send-message', subscriber.userId]" class="action-btn message-btn" title="Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©">
                <i class="bx bx-message-dots"></i>
              </a>
              <a [routerLink]="['/subscriber-options', subscriber.userId]" class="action-btn more-btn" title="Ø§Ù„Ù…Ø²ÙŠØ¯">
                <i class="bx bx-dots-horizontal-rounded"></i>
              </a> -->
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>